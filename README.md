# my_travel2.0

### 1.姓名、学号
姓名：项心叶 学号：193020010069

### 2.你的项目完成情况
功能基本上完成了，但是逻辑上可能会有些疏漏之处。

这个pj我采用了前后端分离的方式（这样算的吧？）利用ajax完成前后端的交互。

最困难的有两个地方：浏览页和文件上传。

浏览页其实是构建一整个逻辑：从数据库获取数据，并且将数据显示在页面上。获取数据只有PHP才能完成，肯定是在点击筛选按钮，边栏按钮或者搜索按钮时获取后端数据，根据一般的逻辑，假如在翻页过程中改变搜索框中的内容，或者改变select选中的项目，分页功能应该是正常的，这就说明，分页应当用前端完成，数据由后端一下子传输过来。

有了这个想法，我就开始实施。由于后端需要传输很多数据，至少是一个对象，或者是对象数组，我采用了JSON的方式，echo了一个字符串，在前端用JSON.parse()函数解构成对象，但是这样有一个问题，由于字符串非常庞大，在8000+位会产生乱码，目前还不知道如何解决，在8000多位的乱码刷新一次基本上就好了。

js分页的方式实现方式比较实用，但是究竟是不是最好的实现，我不知道。

上传文件时遇到的问题主要是如何用ajax提交表单。假如用php直接处理表单，那就很难在提交之前进行校验。于是我使用了formdata对象提交表单，保存文件。

### 3.Bonus的完成情况
基本上没有做，如果jQuery或者bootstrap这样的框架也算的话……也算是做了。

#### 4.对PJ 2和本门课程的意见和建议
故事很精彩，感觉在做pj的时候学到的远远比上课学到的要多。

